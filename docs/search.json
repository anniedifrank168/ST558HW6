[
  {
    "objectID": "AJD_HW6.html",
    "href": "AJD_HW6.html",
    "title": "AJD_HW6",
    "section": "",
    "text": "Homework 6 Annie DiFrank\n\nTask 1: Conceptual Questions\n\nWhat is the purpose of the lapply() function? What is the equivalent purrr function?\n\nTo quickly/efficiently apply a function to elements of a list.\n\nSuppose we have a list called my_list. Each element of the list is a numeric data frame (all columns are numeric). We want use lapply() to run the code cor(numeric_matrix, method = “kendall”) on each element of the list. Write code to do this below! (I’m really trying to ask you how you specify method = “kendall” when calling lapply())\n\nlapply(x=my_list, FUN=cor, method=“kendall”)\n\nWhat are two advantages of using purrr functions instead of the BaseR apply family?\n\nPurrr gives a more clean and consistent way to apply functions to objects and have a lot of additional helper functions available.\n\nWhat is a side-effect function?\n\nSide-effect functions are pipeable functions that do not transform the data, they just produce something/change the state of something (like printing a data frame into the consol or reading in data from a .csv file into an R object)\n\nWhy can you name a variable sd in a function and not cause any issues with the sd function?\n\nBecause within the function is a separate environment than where the sd function is stored (global environment); when you call a function, it creates a temporary environment that is not stored after the function is done running.\n\n\n\n\nTask 2: Writing R Functions Part 1\nHere we will first write a basic function called getRMSE() that takes in a vector of responses and a vector of predictions and outputs the RMSE. Then, we will test the function.\n\ngetRMSE &lt;- function(response_vector,predict_vector,...) {\n  #Do the squared differences \n  temp &lt;- (response_vector - predict_vector)^2\n  \n  #calculate the mean of the squared differences \n  mean_temp &lt;- mean(temp, ... )\n  \n  #calculate RMSE by taking sqrroot of the mean_temp\n  rmse_value &lt;- sqrt(mean_temp)\n  \n  return(paste0(\"RMSE = \",rmse_value))\n}\n\n#Creating response and prediction values \nset.seed(10)\nn &lt;- 100\nx &lt;- runif(n)\nresp &lt;- 3 + 10 * x + rnorm(n)\npred &lt;- predict(lm(resp ~ x), data.frame(x))\n\n#Testing function \ngetRMSE(resp,pred,na.rm = TRUE)\n\n[1] \"RMSE = 0.958167655151933\"\n\n#Repeat after replacing two of the response values with mising values \n#resp\nresp[6] &lt;- NA\nresp[36] &lt;-NA\n\n#Testing with specifying the behavior to deal with missing values \ngetRMSE(resp,pred,na.rm = TRUE)\n\n[1] \"RMSE = 0.964198261228688\"\n\n#Testing without specifying the behavior to deal with missing values \ngetRMSE(resp,pred)\n\n[1] \"RMSE = NA\"\n\n  #Must specify the behavior! \n\n\n\nTask 2: Writing R Functions Part 2\nHere, we will write a function called getMAE() that follows the same specifications as above to get the MAE and test it.\n\ngetMAE &lt;- function(response_vector,predict_vector,...) {\n  #Do the abs. val. of the differences \n  temp &lt;- abs((response_vector - predict_vector))\n  \n  #calculate the mean of the abs val \n  mae_value &lt;- mean(temp, ... )\n  \n  return(paste0(\"MAE = \",mae_value))\n}\n\n#Creating response and prediction values \nset.seed(10)\nn &lt;- 100\nx &lt;- runif(n)\nresp &lt;- 3 + 10 * x + rnorm(n)\npred &lt;- predict(lm(resp ~ x), data.frame(x))\n\n#Testing function \ngetMAE(resp,pred,na.rm=TRUE)\n\n[1] \"MAE = 0.815577593682669\"\n\n#Repeat after replacing two of the response values with mising values \n#resp\nresp[6] &lt;- NA\nresp[36] &lt;-NA\n\n#Testing with specifying the behavior to deal with missing values \ngetMAE(resp,pred,na.rm = TRUE)\n\n[1] \"MAE = 0.823486211953357\"\n\n#Testing without specifying the behavior to deal with missing values \ngetMAE(resp,pred)\n\n[1] \"MAE = NA\"\n\n  #Must specify the behavior! \n\n\n\nTask 2 Writing R Functions Part 3\nHere we will write a wrapper function that can be used to get either or both metrics returned with a single function call. The function iwll check that the two vectors passed are numeric, if not a message will print and the function will exit. It will return both metrics by default and include names.\n\ngetRMSE_MAE &lt;-\n  function(response_vector,\n           predict_vector,\n           metric = c(\"both\", \"RMSE\", \"MAE\"),\n           ...) {\n    #Checking vectors are numeric\n    if (!is.numeric(response_vector) || !is.numeric(predict_vector)) {\n      stop(\"STOP: input vectors must be numeric\")\n    }\n    \n    rmse_value &lt;- getRMSE(response_vector, predict_vector, ...)\n    \n    mae_value &lt;- getMAE(response_vector, predict_vector, ...)\n    \n    #Return based on the chosen metric\n    if (metric == \"both\") {\n      return(list(RMSE = rmse_value, MAE = mae_value))\n    } else if (metric == \"RMSE\") {\n      return(rmse_value)\n    } else {\n      return(mae_value)\n    }\n  }\n\n#Creating vectors to test\nset.seed(10)\nn &lt;- 100\nx &lt;- runif(n)\nresp &lt;- 3 + 10 * x + rnorm(n)\npred &lt;- predict(lm(resp ~ x), data.frame(x))\n\n#Testing function while calling each metric individually\ngetRMSE_MAE(resp, pred, \"RMSE\", na.rm = TRUE)\n\n[1] \"RMSE = 0.958167655151933\"\n\ngetRMSE_MAE(resp, pred, \"MAE\", na.rm = TRUE)\n\n[1] \"MAE = 0.815577593682669\"\n\n#Testing while calling both metrics\ngetRMSE_MAE(resp, pred, \"both\", na.rm = TRUE)\n\n$RMSE\n[1] \"RMSE = 0.958167655151933\"\n\n$MAE\n[1] \"MAE = 0.815577593682669\"\n\n#Repeating with replacing two of the response values with missing values\n#resp\nresp[6] &lt;- NA\nresp[36] &lt;- NA\n\ngetRMSE_MAE(resp, pred, \"RMSE\", na.rm = TRUE)\n\n[1] \"RMSE = 0.964198261228688\"\n\ngetRMSE_MAE(resp, pred, \"MAE\", na.rm = TRUE)\n\n[1] \"MAE = 0.823486211953357\"\n\ngetRMSE_MAE(resp, pred, \"both\", na.rm = TRUE)\n\n$RMSE\n[1] \"RMSE = 0.964198261228688\"\n\n$MAE\n[1] \"MAE = 0.823486211953357\"\n\n#Testing while passing it incorrect data\n#char_vec = c(\"A\", \"B\", \"C\")\n#getRMSE_MAE(resp, char_vec, \"both\")\n#my error message displayed because one of the vectors isn't numeric! I commented this out because even though I set error = TRUE in the chunk options it doesn't want to render with this error running. \n\n\n\nTask 3: Querying an API and a Tidy-Style Function\nHere, we will connect to the news API and return information about an interesting topic.\n\nlibrary(httr)\nlibrary(jsonlite)\nlibrary(tidyr)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(purrr)\n\n\nAttaching package: 'purrr'\n\n\nThe following object is masked from 'package:jsonlite':\n\n    flatten\n\nlibrary(lubridate)\n\n\nAttaching package: 'lubridate'\n\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n\n#1. Grabbing information about the recent top headlines\ntop_headlines &lt;-\n  GET(\n    \"https://newsapi.org/v2/top-headlines?country=us&apiKey=1934ad1d9d784a7f9e6da0472528e364\"\n  )\n\nstr(top_headlines, max.level = 1)\n\nList of 10\n $ url        : chr \"https://newsapi.org/v2/top-headlines?country=us&apiKey=1934ad1d9d784a7f9e6da0472528e364\"\n $ status_code: int 200\n $ headers    :List of 14\n  ..- attr(*, \"class\")= chr [1:2] \"insensitive\" \"list\"\n $ all_headers:List of 1\n $ cookies    :'data.frame':    0 obs. of  7 variables:\n $ content    : raw [1:16611] 7b 22 73 74 ...\n $ date       : POSIXct[1:1], format: \"2024-10-09 16:06:02\"\n $ times      : Named num [1:6] 0 0.00233 0.03413 0.07379 0.15413 ...\n  ..- attr(*, \"names\")= chr [1:6] \"redirect\" \"namelookup\" \"connect\" \"pretransfer\" ...\n $ request    :List of 7\n  ..- attr(*, \"class\")= chr \"request\"\n $ handle     :Class 'curl_handle' &lt;externalptr&gt; \n - attr(*, \"class\")= chr \"response\"\n\n#2. parsing content\nparsed_TH &lt;- fromJSON(rawToChar(top_headlines$content))\nparsed_TH #articles is the element we want for the data\n\n$status\n[1] \"ok\"\n\n$totalResults\n[1] 34\n\n$articles\n          source.id         source.name\n1              &lt;NA&gt; Yahoo Entertainment\n2  associated-press    Associated Press\n3              &lt;NA&gt;           [Removed]\n4              &lt;NA&gt;       Post Magazine\n5              &lt;NA&gt;             Variety\n6              &lt;NA&gt; Yahoo Entertainment\n7          nbc-news            NBC News\n8              &lt;NA&gt;     Arrowhead Pride\n9           reuters             Reuters\n10             &lt;NA&gt;                 NPR\n11             &lt;NA&gt;      Whitehouse.gov\n12         cbs-news            CBS News\n13        bloomberg           Bloomberg\n14             &lt;NA&gt;           Space.com\n15              cnn                 CNN\n16             &lt;NA&gt;       NBCSports.com\n17             &lt;NA&gt;           MacRumors\n18              cnn                 CNN\n19             &lt;NA&gt;      9News.com KUSA\n20             &lt;NA&gt;       Eurogamer.net\n                                                  author\n1                                        Alexandra Canal\n2                             TERRY SPENCER, HAVEN DALEY\n3                                                   &lt;NA&gt;\n4                                                   &lt;NA&gt;\n5                                         Tatiana Siegel\n6                                            Liz Roscher\n7                                           Daniel Arkin\n8                                           Tom Ruprecht\n9                         Niklas Pollard, Johan Ahlander\n10                                                      \n11                                       The White House\n12                                         Melissa Quinn\n13 Carmen Reinicke, Olivia Carville, Cecilia D'Anastasio\n14                                             Mike Wall\n15                                     Jacqueline Howard\n16                                           Mike Florio\n17                                     Mitchel Broussard\n18                                                  &lt;NA&gt;\n19                                        Alexander Kirk\n20                                          Tom Phillips\n                                                                                                                               title\n1                                                    Stock market today: S&P 500, Nasdaq climb as oil prices retreat - Yahoo Finance\n2                   Tampa Bay hasn’t been hit directly by a major hurricane since 1921. Milton may be the one - The Associated Press\n3                                                                                                                          [Removed]\n4                        With economic-growth faith, China to front-load 100 billion yuan: as it happened - South China Morning Post\n5       Inside the ‘Joker: Folie à Deux’ Debacle: Todd Phillips ‘Wanted Nothing to Do’ With DC on the $200 Million Misfire - Variety\n6           Jets fire head coach Robert Saleh after 20-36 record over 3-plus seasons: 'We are not where we should be' - Yahoo Sports\n7                                                Fourteen AGs sue TikTok, accusing it of harming children’s mental health - NBC News\n8                                                       8 things overheard as the Chiefs beat the Saints in Week 5 - Arrowhead Pride\n9                                            Nobel physics prize 2024 won by AI pioneers John Hopfield and Geoffrey Hinton - Reuters\n10                                                     A jellyfish with a superpower - it can fuse with another and become one - NPR\n11 Statement from White House Press Secretary Karine Jean-Pierre on President Biden’s Travel to Germany and Angola - The White House\n12                                        Listen Live: Supreme Court hears arguments in challenge to ATF's ghost gun rule - CBS News\n13                                                             Roblox Tumbles as Hindenburg Bets Against Gaming Platform - Bloomberg\n14                                 SpaceX rocket snaps amazing views of Earth during Hera asteroid probe launch (photos) - Space.com\n15 Certain arm positions commonly used for blood pressure checks may lead to inaccurate results. Here’s the right way to do it - CNN\n16                                                                                 PFT’s Week 6 2024 NFL power rankings - NBC Sports\n17                                                            The Best Prime Day Deals on AirPods, Apple Watch, and More - MacRumors\n18                                                                     China penalizes European brandy in tit-for-tat response - CNN\n19                                                                        Coldplay announces Denver stadium concert - 9News.com KUSA\n20             Behind the scenes at Blizzard: Jason Schreier talks misconduct, swingers parties and what press got wrong - Eurogamer\n                                                                                                                                                                                                                                                            description\n1                                                                                                                                                                        The focus is back on the ongoing debate over the economy and interest rates as headwinds ease.\n2  Hurricane Milton remains a ferocious storm that could land a rare direct hit on the populous Tampa Bay region with towering storm surges and turn debris from Helene’s recent devastation into projectiles. Almost the entirety of Florida’s west coast is under a …\n3                                                                                                                                                                                                                                                             [Removed]\n4                                                                                                                                      China’s top economic planner, the National Development and Reform Commission (NDRC), held a press conference on Tuesday morning.\n5                                                                                                                             Todd Phillips “wanted nothing to do with DC” during the making of the film and refused to test screen the $200 million comic book sequel.\n6                                                                                                                                                                                                                                             Saleh is out in New York.\n7                                                                                                 Fourteen attorneys general filed lawsuits accusing the social media platform TikTok of damaging young users’ mental health and collecting their data without consent.\n8                                                                                                                               If you listened very carefully, fascinating things were being said as the Kansas City Chiefs defeated the New Orleans Saints in Week 5.\n9                                          U.S. scientist John Hopfield and British-Canadian Geoffrey Hinton won the 2024 Nobel Prize in Physics on Tuesday for discoveries and inventions in machine learning that paved the way for the artificial intelligence boom.\n10                                                        Researchers found that two individuals of a type of comb jelly can fuse and become one with a shared nervous system and digestive system — which has implications for animal regeneration and immune systems.\n11                                                                                                           Given the projected trajectory and strength of Hurricane Milton, President Biden is postponing his upcoming trip to Germany and Angola in order to oversee\n12                                                                                                                 The rule issued by the Biden administration in 2022 seeks to subject unserialized ghost guns to the same requirements as commercially made firearms.\n13                                                                                                                                            Roblox Corp. shares slumped Tuesday after short seller Hindenburg Research said it’s betting against the gaming platform.\n14                                                                                                                                                                                               A Falcon 9 upper stage got some gorgeous, faraway looks at our planet.\n15 A new study found that having your arm in the wrong position during blood pressure checks — either at home or the doctor’s office — can result in readings “markedly higher” than when your arm is in the recommended position: appropriately supported on a table …\n16                                                                                                                                                                                                                                                                   1.\n17                                                                                                                   Amazon's Prime Big Deal Days event is in full swing today, offering customers the first chance to get some holiday shopping done early. Similar...\n18                                  China imposed temporary anti-dumping measures on brandy imports from the European Union on Tuesday, hitting brands from Hennessy to Remy Martin, after the 27-state bloc voted for tariffs on Chinese-made electric vehicles (EVs).\n19                                                                                                                         Coldplay promises a show bursting with lasers, fireworks and LED wristbands at the group's first-ever concert at Empower Field at Mile High.\n20                                                                                                                                             Few video game companies hold such a personal connection to fans as Blizzard. Now, imagine how deep that connection run…\n                                                                                                                                                                                         url\n1                                                                            https://finance.yahoo.com/news/live/stock-market-today-sp-500-nasdaq-climb-as-oil-prices-retreat-133050884.html\n2                                                                                                 https://apnews.com/article/hurricane-milton-florida-tampa-7678939c52fdf00da748937d22df1fac\n3                                                                                                                                                                        https://removed.com\n4                                                                        https://www.scmp.com/economy/policy/article/3281464/chinas-top-economic-planner-set-unveil-wide-ranging-action-plan\n5                                                                                      https://variety.com/2024/film/news/joker-folie-a-deux-bombs-what-went-wrong-todd-phillips-1236170946/\n6                                               https://sports.yahoo.com/jets-fire-head-coach-robert-saleh-after-20-36-record-in-3-plus-seasons-we-are-not-where-we-should-be-141224637.html\n7                                                                                                         https://www.nbcnews.com/tech/tech-news/tiktok-sued-14-attorneys-general-rcna174395\n8                                                                                          https://www.arrowheadpride.com/2024/10/8/24265194/chiefs-beat-saints-8-things-overheard-in-week-5\n9                                                                                                   https://www.reuters.com/science/hopfield-hinton-win-2024-nobel-prize-physics-2024-10-08/\n10                                                                                                      https://www.npr.org/2024/10/08/nx-s1-5144689/comb-jelly-superpower-absorb-become-one\n11 https://www.whitehouse.gov/briefing-room/statements-releases/2024/10/08/statement-from-white-house-press-secretary-karine-jean-pierre-on-president-bidens-travel-to-germany-and-angola-2/\n12                                                                                                                       https://www.cbsnews.com/news/supreme-court-ghost-gun-atf-arguments/\n13                                                                              https://www.bloomberg.com/news/articles/2024-10-08/roblox-tumbles-as-hindenburg-bets-against-gaming-platform\n14                                                                                                                            https://www.space.com/spacex-falcon-9-hera-launch-earth-photos\n15                                                                                               https://www.cnn.com/2024/10/07/health/blood-pressure-arm-position-study-wellness/index.html\n16                                                                                         https://www.nbcsports.com/nfl/profootballtalk/rumor-mill/news/pfts-week-6-2024-nfl-power-rankings\n17                                                                                                               https://www.macrumors.com/2024/10/08/the-best-prime-day-deals-october-2024/\n18                                                                                                           https://www.cnn.com/2024/10/08/business/china-eu-brandy-evs-hnk-intl/index.html\n19                                        https://www.9news.com/article/life/style/colorado-guide/coldplay-denver-empower-field-stadium-concert-tour/73-df7f49f0-5d33-4be8-9e4d-840c328dfd77\n20                                                         https://www.eurogamer.net/behind-the-scenes-at-blizzard-jason-schreier-talks-misconduct-swingers-parties-and-what-press-got-wrong\n                                                                                                                                                                                                                                                                                                                      urlToImage\n1                                                                                                                                                                                                                                                               https://s.yimg.com/cv/apiv2/social/images/yahoo_default_logo.png\n2                                                                                          https://dims.apnews.com/dims4/default/b1c8f7e/2147483647/strip/true/crop/6831x3842+0+356/resize/1440x810!/quality/90/?url=https%3A%2F%2Fassets.apnews.com%2F0e%2Ff9%2F216c60a0c6ea2b2dd9fe2513387c%2Fff302b91b5c3443ba0845c249b86f2ce\n3                                                                                                                                                                                                                                                                                                                           &lt;NA&gt;\n4                                                                                                                                           https://cdn.i-scmp.com/sites/default/files/styles/og_image_scmp_live/public/d8/images/canvas/2024/10/08/e37cc666-99e3-4904-a2b3-36487e54c4e9_be5b3b85.jpg?itok=VuFRTV4u&v=1728371874\n5                                                                                                                                                                                                                                           https://variety.com/wp-content/uploads/2024/10/MCDJOFO_WB037.jpg?w=1000&h=563&crop=1\n6                                                                                                                                  https://s.yimg.com/ny/api/res/1.2/ywXsMOt5MbTiME97E7qUiQ--/YXBwaWQ9aGlnaGxhbmRlcjt3PTEyMDA7aD04MDA-/https://s.yimg.com/os/creatr-uploaded-images/2024-10/82854e90-857f-11ef-b1dd-46212dd566a0\n7                                                                                                                                                                               https://media-cldnry.s-nbcnews.com/image/upload/t_nbcnews-fp-1200-630,f_auto,q_auto:best/rockcms/2024-10/241007-tiktok-office-ew-521p-a8f604.jpg\n8                                                                                                                                                                 https://cdn.vox-cdn.com/thumbor/VmGkCrA6v0AYMVDtQMUJPMqygDM=/0x101:4121x2259/fit-in/1200x630/cdn.vox-cdn.com/uploads/chorus_asset/file/25664452/2177349625.jpg\n9                                                                                                                                           https://www.reuters.com/resizer/v2/BU4YS7SP4NM6RB32HHZHVVHR4E.jpg?auth=498b2a3f99d12551f7c68a0c7d9c8d74a551aef76fba56252a53c9fc47ff792c&height=1005&width=1920&quality=80&smart=true\n10                                                                                                     https://npr.brightspotcdn.com/dims3/default/strip/false/crop/3000x1688+0+1156/resize/1400/quality/100/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fa7%2F40%2F14da44a842fabc342e134aea38ec%2Fphoto2.jpg\n11                                                                                                                                                                                                                                                     https://www.whitehouse.gov/wp-content/uploads/2021/01/wh_social-share.png\n12                                                                                                   https://assets1.cbsnewsstatic.com/hub/i/r/2023/09/27/637d1d47-f747-4102-bc37-b97848531b3c/thumbnail/1200x630/d7f95626ab8f5a75ef394a574d065b8c/ghost-guns-raw-hi-res-still-00-01-1819.jpg?v=3a0e65dbe151135b3f2e1627f423e21b\n13                                                                                                                                                                                                                                                 https://assets.bwbx.io/images/users/iqjWHBFdfxIU/iCd9FLDYE3Qc/v1/1200x800.jpg\n14                                                                                                                                                                                                                                                          https://cdn.mos.cms.futurecdn.net/FtWKyWbwtbLgGjFU4az4ic-1200-80.jpg\n15                                                                                                                                                             https://media.cnn.com/api/v1/images/stellar/prod/151110164035-blood-pressure-explainer-elizabeth-cohen-mss-orig-00010117.jpg?q=x_0,y_0,h_1080,w_1919,c_fill/w_800\n16 https://nbcsports.brightspotcdn.com/dims4/default/b377d28/2147483647/strip/true/crop/5532x3112+0+0/resize/1440x810!/quality/90/?url=https%3A%2F%2Fnbc-sports-production-nbc-sports.s3.us-east-1.amazonaws.com%2Fbrightspot%2F9e%2F18%2F54d5b159411f962f0c133c354fba%2Fhttps-delivery-gettyimages.com%2Fdownloads%2F2177350326\n17                                                                                                                                                                                                          https://images.macrumors.com/t/6xx5s2m-0sFwQYwdop7ZKKkyJWY=/2500x/article-new/2024/10/Prime-Big-Deal-Days-Hero-5.jpg\n18                                                                                                                                                                                                                             https://media.cnn.com/api/v1/images/stellar/prod/gettyimages-1125283731.jpg?c=16x9&q=w_800,c_fill\n19                                                                                                                                                                             https://media.9news.com/assets/KUSA/images/f5f00407-5e1d-4524-a895-4ee86b2334f5/20241008T113710/f5f00407-5e1d-4524-a895-4ee86b2334f5_1140x641.jpg\n20                                                                                                                                                                                                                    https://assetsio.gnwcdn.com/Untitled-1_O2B9y7a.jpg?width=1200&height=630&fit=crop&enable=upscale&auto=webp\n            publishedAt\n1  2024-10-08T16:10:00Z\n2  2024-10-08T16:04:00Z\n3  2024-10-08T15:47:00Z\n4  2024-10-08T15:41:20Z\n5  2024-10-08T15:15:00Z\n6  2024-10-08T15:13:54Z\n7  2024-10-08T14:55:12Z\n8  2024-10-08T14:51:52Z\n9  2024-10-08T14:46:16Z\n10 2024-10-08T14:30:52Z\n11 2024-10-08T14:14:26Z\n12 2024-10-08T14:13:09Z\n13 2024-10-08T14:00:46Z\n14 2024-10-08T14:00:33Z\n15 2024-10-08T13:35:00Z\n16 2024-10-08T13:17:58Z\n17 2024-10-08T12:19:10Z\n18 2024-10-08T12:04:00Z\n19 2024-10-08T11:52:00Z\n20 2024-10-08T11:46:50Z\n                                                                                                                                                                                                                      content\n1    US stocks opened higher on Tuesday as investors welcomed a pullback in surging oil prices, putting focus back on the ongoing debate over the economy and interest rates.\\r\\nThe benchmark S&amp;P 500 (^G… [+7220 chars]\n2      TAMPA, Fla. (AP) Hurricane Milton weakened slightly Tuesday but remained a ferocious storm that could land a once-in-a-century direct hit on the populous Tampa Bay region with towering storm surges a… [+7699 chars]\n3                                                                                                                                                                                                                   [Removed]\n4       This live blog has been made freely available as a public service to our readers. Please consider supporting SCMPs journalism bysubscribing. Get faster notifications on the latest updates bydownloadi… [+371 chars]\n5      On Sept. 30, Lady Gaga blew kisses to fans outside the TCL Chinese Theatre ahead of the premiere of “Joker: Folie à Deux,” while Joaquin Phoenix dropped his typical solemn facade and flashed a few sm… [+7449 chars]\n6    The New York Jets have fired head coach Robert Saleh.\\r\\nAccording to ESPN's Adam Schefter, the Jets told Saleh around 10 a.m. ET. Team owner Woody Johnson released a statement about firing Saleh a sho… [+2203 chars]\n7      Fourteen attorneys general, led by officials in New York and California, filed lawsuits Tuesday accusing the social media platform TikTok of damaging young users mental health and collecting their da… [+4316 chars]\n8                                                                                                                                                                                                                        &lt;NA&gt;\n9                                                                                                                                                                                                                        &lt;NA&gt;\n10 A little more than a year ago, while biologist Kei Jokura\\r\\n was in Woods Hole, Mass., he routinely walked down to the water, scanning for comb jellies.\\r\\nThey look like a jellyfish, he says, but theyr… [+3077 chars]\n11      Given the projected trajectory and strength of Hurricane Milton, President Biden is postponing his upcoming trip to Germany and Angola in order to oversee preparations for and the response to Hurrica… [+107 chars]\n12     Washington — The Supreme Court is hearing arguments Tuesday over the Biden administration's efforts to regulate unserialized firearms called ghost guns, considering for the second time in a matter of… [+5942 chars]\n13    Roblox Corp. shares slumped Tuesday after short seller Hindenburg Research said its betting against the gaming platform. \\r\\nThe stock fell as much as 9.4% in intraday trading Tuesday in New York, hitt… [+113 chars]\n14   A SpaceX Falcon 9 rocket snapped a pretty special in-space selfie on Monday (Oct. 7).\\r\\nThe shot, captured during the launch of the European Space Agency's Hera asteroid-inspecting mission, shows a go… [+2231 chars]\n15     A new study found that having your arm in the wrong position during blood pressure checks either at home or the doctors office can result in readings markedly higher than when your arm is in the reco… [+8994 chars]\n16   1. Chiefs (last week No. 1; 5-0): The official 2024 slogan is Sluggish At Times But Always Inevitable.\\r\\n2. Lions (No. 2; 3-1): Hopefully, Dan Skipper spent the bye week practicing his reporting-as-el… [+2909 chars]\n17     Amazon's Prime Big Deal Days event is in full swing today, offering customers the first chance to get some holiday shopping done early. Similar to the first Prime Day, it will last for two days (Octo… [+5683 chars]\n18     China imposed temporary anti-dumping measures on brandy imports from the European Union on Tuesday, hitting brands from Hennessy to Remy Martin, after the 27-state bloc voted for tariffs on Chinese-m… [+3374 chars]\n19 DENVER Coldplay is coming back to Colorado.\\r\\nThe band announced its record-breaking \"Music Of The Spheres World Tour\" will continue with 10 new North American shows in 2025.\\r\\nThe new dates include Co… [+1779 chars]\n20    Few video game companies hold such a personal connection to fans as Blizzard. Now, imagine how deep that connection runs if you worked there. For the many thousands of staff who sweated to build Worl… [+19165 chars]\n\ntopheads &lt;- as_tibble(pluck(parsed_TH, \"articles\"))\n\n#3. Writing a quick function to easily query this API; inputs are whether you want everything or just top headlines, the title/subject to search for (string),a time period to search from (string- youll search from that time until present), and an API key\ngetAPI &lt;-\n  function(headlines = c(\"top-headlines?country=us\", \"everything?\"),\n           title = NULL,\n           time = NULL,\n           APIkey) {\n    beginningURL &lt;- \"https://newsapi.org/v2/\"\n  \n    #USER NOTES:\n    # must include q= in 'title' argument, followed by &\n    #must include total time string (format: from=STARTDATE&to=ENDDATE)\n    \n    url &lt;- paste0(beginningURL, headlines, title, time, \"&apiKey=\", APIkey)\n    \n    temp &lt;- GET(url)\n    parsed &lt;- fromJSON(rawToChar(temp$content))\n    data &lt;- as_tibble(pluck(parsed, \"articles\"))\n    return(data)\n  }\n\n#Using function to grab my data from above\ngetAPI(headlines = \"top-headlines?country=us\", APIkey = \"1934ad1d9d784a7f9e6da0472528e364\") -&gt; topheads\n\n#Using function to grab data on Apple/ using all of the options of my function\ngetAPI(\n  headlines = \"everything?\",\n  title = \"q=apple&\",\n  time = \"from=2024-10-08&to=2024-10-08\",\n  APIkey = \"1934ad1d9d784a7f9e6da0472528e364\"\n) -&gt; appledata\n\n#4. Summaring name source via a contingency table\ntable(appledata$source$name)\n\n\n          [Removed]             9to5Mac   Android Authority     Android Central \n                  5                  18                   2                   4 \n     Android Police        AppleInsider      Applesfera.com            Buzzfeed \n                  1                  11                   4                   1 \n               CNET      Digital Trends         Gizmodo.com        heise online \n                 11                   3                  12                   2 \n       Hipertextual           HYPEBEAST                 IGN     Journal du geek \n                  1                   1                   1                   4 \n          MacRumors        Slashdot.org           The Verge       Thekitchn.com \n                 11                   1                   2                   1 \n         Xataka.com Yahoo Entertainment \n                  1                   3 \n\n#5. turning the publishedAt column into a date column using the lubridate package, sorting the two data frames each by their new parsed date column, and creating a new variable called pub_diff that is the difference in time between the articles' published dates. saving the mods as new dataframes.\n\n#Creating data columns, sorting by them\ntimed_apple &lt;-\n  appledata %&gt;% mutate(date = ymd_hms(publishedAt)) %&gt;% arrange(., date) %&gt;% select(date, everything())\ntimed_topheadlines &lt;-\n  topheads %&gt;% mutate(date = ymd_hms(publishedAt)) %&gt;% arrange(., date) %&gt;% select(date, everything())\n\n  #Creating pub_diff\ntimed_apple &lt;-\n  timed_apple %&gt;% mutate(pub_diff = date - lag(date)) %&gt;% select(date, pub_diff, everything())\ntimed_topheadlines &lt;-\n  timed_topheadlines %&gt;% mutate(pub_diff = date - lag(date)) %&gt;% select(date, pub_diff, everything())\n\n#6. Subsetting and calling map() with a custom anonymous function\n\n  #apple data\ntimed_apple_subset &lt;- timed_apple %&gt;% select(date, pub_diff)\n\nTAS_summary &lt;- map(timed_apple_subset, \\(x) list(\n  mean = mean(x, na.rm = TRUE),\n  sd = sd(x, na.rm = TRUE),\n          median = median(x, na.rm = TRUE)\n))\n\nTAS_summary\n\n$date\n$date$mean\n[1] \"2024-10-08 13:19:23 UTC\"\n\n$date$sd\n[1] 18292.85\n\n$date$median\n[1] \"2024-10-08 13:34:06 UTC\"\n\n\n$pub_diff\n$pub_diff$mean\nTime difference of 871.9394 secs\n\n$pub_diff$sd\n[1] 1262.345\n\n$pub_diff$median\nTime difference of 445 secs\n\n  #top headlines data\ntimed_topheads_subset &lt;- timed_topheadlines %&gt;% select(date, pub_diff)\n\nTTS_summary &lt;- map(timed_topheads_subset, \\(x) list(\n  mean = mean(x, na.rm = TRUE),\n  sd = sd(x, na.rm = TRUE),\n          median = median(x, na.rm = TRUE)\n))\n\nTTS_summary\n\n$date\n$date$mean\n[1] \"2024-10-08 14:13:57 UTC\"\n\n$date$sd\n[1] 4973.022\n\n$date$median\n[1] \"2024-10-08 14:22:39 UTC\"\n\n\n$pub_diff\n$pub_diff$mean\nTime difference of 831.0526 secs\n\n$pub_diff$sd\n[1] 807.7366\n\n$pub_diff$median\nTime difference of 743 secs"
  }
]